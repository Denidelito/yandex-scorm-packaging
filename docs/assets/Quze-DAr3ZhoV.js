import{_ as C,u as D,c as i,r as b,o as d,a as c,b as n,l as a,t as k,F as B,m as N,G as P,H as j,I as E,d as V,f as I,p as F,g as M}from"./index-B_8XGVBY.js";import{S as O}from"./Speech--sLkIUyk.js";import{Q as R}from"./quzeProgress-j1Dg2C0l.js";const y=r=>(F("data-v-6e0fc070"),r=r(),M(),r),U={class:"quze"},G={class:"quze__content-left"},H={key:0},L={class:"quze__question"},T=y(()=>n("div",{class:"quze__question__icon"}," ? ",-1)),$={class:"quze__question__container"},J={class:"quze__text quze__text-medium"},K=y(()=>n("p",{class:"quze__text quze__text-small"},"Выбери один вариант.",-1)),W={class:"quze__answer-container"},X=["id","value"],Y=["for"],Z=["disabled"],ee={key:1},te={class:"quze__nav"},se={__name:"Quze",props:{name:{type:String,required:!0},questions:{type:Array,required:!0},resultMessage:{type:Array,required:!1},parameters:{type:Object,required:!0,default:()=>({engagement:0,interest:0,understanding:0})},store:{type:Object,required:!0,default:()=>({questionIndex:0,selectedAnswer:null,feedbackVisible:!1,answers:[]})}},setup(r){const v=D(),t=r;let l=i({get:()=>t.store.questionIndex,set:e=>{t.store.questionIndex=e}}),s=i({get:()=>t.store.selectedAnswer,set:e=>{t.store.selectedAnswer=e}}),_=i({get:()=>t.store.feedbackVisible,set:e=>{t.store.feedbackVisible=e}}),m=i({get:()=>t.store.answers,set:e=>{t.store.answers=e}}),o=i(()=>t.parameters);const h=i(()=>t.questions[l.value]);let f=b(!1),g=b(!1),q=b(!1);const x=i(()=>[...s.value.feedback]),S=()=>{const e=s.value;for(let u of e.parameter)o.value[u]+=1,u==="engagement"&&(g.value=!0),u==="interest"&&(f.value=!0),u==="understanding"&&(q.value=!0);setTimeout(()=>{f.value=!1,g.value=!1,q.value=!1},1500),_.value=!0,m.value.push(e),v.setCustomData("quzeParameters",o.value),v.setCustomData(t.name,{questionIndex:l.value,selectedAnswer:s.value,feedbackVisible:_.value,answers:m.value})},A=()=>{s.value=null,_.value=!1,l.value+=1},Q=()=>{for(let e of m.value)for(let u of e.parameter)o.value[u]-=1;s.value=null,_.value=!1,l.value=0,m.value=[],v.setCustomData("quzeParameters",o.value),v.setCustomData(t.name,{questionIndex:l.value,selectedAnswer:s.value,feedbackVisible:_.value,answers:m.value})};return(e,u)=>(d(),c("div",U,[n("div",G,[a(_)?(d(),c("div",ee,[V(O,{"speech-data":x.value},null,8,["speech-data"]),n("div",te,[a(l)+1!==r.questions.length?(d(),c("button",{key:0,class:"quze__btn",onClick:A}," Продолжить ")):I("",!0),a(l)+1===r.questions.length?(d(),c("button",{key:1,class:"quze__btn",onClick:Q}," Поменять ответы ")):I("",!0)])])):(d(),c("div",H,[n("div",L,[T,n("div",$,[n("p",J,k(h.value.question),1),K])]),n("div",W,[(d(!0),c(B,null,N(h.value.Answer,(z,p)=>(d(),c("div",{class:"quze__answer",key:r.name+p},[P(n("input",{type:"radio",id:`answer-${r.name+p}`,value:z,"onUpdate:modelValue":u[0]||(u[0]=w=>E(s)?s.value=w:s=w)},null,8,X),[[j,a(s)]]),n("label",{for:`answer-${r.name+p}`},k(z.text),9,Y)]))),128))]),n("button",{class:"quze__btn",onClick:S,disabled:!a(s)}," Ответить ",8,Z)]))]),V(R,{interest:a(o).interest,engagement:a(o).engagement,understanding:a(o).understanding,interestVisible:a(f),engagementVisible:a(g),understandingVisible:a(q)},null,8,["interest","engagement","understanding","interestVisible","engagementVisible","understandingVisible"])]))}},ue=C(se,[["__scopeId","data-v-6e0fc070"]]);export{ue as Q};
